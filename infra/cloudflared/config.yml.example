# Cloudflared tunnel configuration
# Replace the placeholders below with the credentials generated for your tunnel.
tunnel: ${CLOUDFLARED_TUNNEL_ID}
credentials-file: /etc/cloudflared/${CLOUDFLARED_TUNNEL_ID}.json

# Optional metadata to help identify the tunnel instance
tag: ${DEPLOYMENT_TAG:-local}

ingress:
  - hostname: ${ADMIN_HOSTNAME}
    service: https://localhost:8443
    originRequest:
      originServerName: ${ADMIN_HOSTNAME}
      http2Origin: true
      # Caddy issues certificates from its private CA via `tls internal`. Unless you
      # install that CA into the trust store (for example with `caddy trust`), skip
      # verification so the tunnel can establish successfully.
      noTLSVerify: true
  - service: http_status:404

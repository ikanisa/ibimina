# ------------------------------------------------------------
# Local runtime defaults
# ------------------------------------------------------------
APP_ENV=local
PORT=3000
# Optional manual build metadata (fallback when CI is unavailable).
# NEXT_PUBLIC_BUILD_ID=
# GIT_COMMIT_SHA=
# APP_REGION=
# ADMIN_HOSTNAME=staff.ibimina.local

# ------------------------------------------------------------
# Public browser-safe configuration (NEXT_PUBLIC_*)
# ------------------------------------------------------------
# Supabase project URL exposed to the browser. Must match the project configured in Supabase.
NEXT_PUBLIC_SUPABASE_URL=
# Supabase anon/public key exposed to the browser for client-side queries (RLS must remain enabled).
NEXT_PUBLIC_SUPABASE_ANON_KEY=
# Optional: explicit site origin for passkey relying party overrides.
# NEXT_PUBLIC_SITE_URL=
# NEXT_PUBLIC_E2E=1

# ------------------------------------------------------------
# Server-only vars (do not expose)
# ------------------------------------------------------------
# Supabase service role key used for admin APIs, migrations, and background jobs.
SUPABASE_SERVICE_ROLE_KEY=
# Optional Supabase JWT secret for server-side validation helpers.
# SUPABASE_JWT_SECRET=
# Global peppers for MFA, backups, and rate-limiting.
BACKUP_PEPPER=
MFA_SESSION_SECRET=
TRUSTED_COOKIE_SECRET=
HMAC_SHARED_SECRET=
# Provide KMS_DATA_KEY or KMS_DATA_KEY_BASE64 (32-byte base64).
KMS_DATA_KEY=
# KMS_DATA_KEY_BASE64=
# Optional overrides for rate limiting and email OTP hashing. Defaults fall back to BACKUP_PEPPER when unset.
# RATE_LIMIT_SECRET=
# EMAIL_OTP_PEPPER=
# Cookie TTLs (seconds) for MFA session + trusted device tokens.
MFA_SESSION_TTL_SECONDS=43200
TRUSTED_DEVICE_TTL_SECONDS=2592000
# Passkey relying party metadata. Leave blank to infer from SITE_URL / NEXT_PUBLIC_SITE_URL.
# MFA_RP_ID=
# MFA_ORIGIN=
MFA_RP_NAME=SACCO+
MFA_EMAIL_LOCALE=en
MFA_EMAIL_FROM=security@example.com
# Optional: HMAC key for signed CSV exports and cached analytics.
ANALYTICS_CACHE_TOKEN=313cf8ae6ca27abcd89b3e5e1db43a5b0cd43b0702d2b356f410f5c15f2fff5f
# REPORT_SIGNING_KEY=
# SMTP fallback config (optional).
MAIL_FROM=SACCO+ <no-reply@sacco.plus>
# SMTP_HOST=
SMTP_PORT=587
# SMTP_USER=
# SMTP_PASS=
# Observability / log drain configuration (optional).
# LOG_DRAIN_URL=
# LOG_DRAIN_TOKEN=
# LOG_DRAIN_SOURCE=
LOG_DRAIN_TIMEOUT_MS=2000
# LOG_DRAIN_ALERT_WEBHOOK=
# LOG_DRAIN_ALERT_TOKEN=
LOG_DRAIN_ALERT_COOLDOWN_MS=300000
# LOG_DRAIN_SILENT=1
# Optional runtime feature flags.
# DISABLE_PWA=1
# ANALYZE_BUNDLE=1
# TWILIO WhatsApp/voice integration (optional).
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886
# Primary site origin for canonical URLs (server-side). Defaults to http://localhost:3000.
# SITE_URL=
# Base URL for Supabase Edge functions used in smoke tests.
# EDGE_URL=

# ------------------------------------------------------------
# Supabase Edge Function secrets (configure via Supabase dashboard)
# ------------------------------------------------------------
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
HMAC_SHARED_SECRET=
RESEND_API_KEY=
MFA_EMAIL_FROM=security@example.com
MFA_EMAIL_LOCALE=en
# Optional admin API token for automation scripts (bootstrap, MFA code generation, etc.).
# ADMIN_API_TOKEN=
KMS_DATA_KEY_BASE64=
# APP_ORIGIN=https://app.example.com
FORECAST_LOOKBACK_DAYS=120
FORECAST_HORIZON_DAYS=21
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_MAX=120
RECON_AUTO_ESCALATE_HOURS=48
SMS_AUTOMATION_THRESHOLD_MINUTES=10
SMS_AUTOMATION_BATCH=25
# REPORT_SIGNING_KEY=
OPENAI_API_KEY=
OPENAI_RESPONSES_MODEL=gpt-4.1-mini

# ------------------------------------------------------------
# Deployment automation helpers
# ------------------------------------------------------------
# PLAYWRIGHT_BASE_URL=http://127.0.0.1:3000
# PLAYWRIGHT_SUPABASE_URL=http://127.0.0.1:54321
# PLAYWRIGHT_SUPABASE_ANON_KEY=stub-anon-key
# PLAYWRIGHT_SUPABASE_SERVICE_ROLE_KEY=stub-service-role-key
# PLAYWRIGHT_OPENAI_API_KEY=stub-openai-key
# PLAYWRIGHT_HMAC_SHARED_SECRET=stub-hmac-secret
